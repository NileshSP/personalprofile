{"version":3,"file":"chunk.ef7a84c7.js","sources":["../../../node_modules/svelte/store.mjs"],"sourcesContent":["import { run_all, noop, get_store_value, safe_not_equal } from './internal';\n\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\nexport function writable(value, start = noop) {\n\tlet stop;\n\tconst subscribers = [];\n\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (!stop) return; // not ready\n\t\t\tsubscribers.forEach(s => s[1]());\n\t\t\tsubscribers.forEach(s => s[0](value));\n\t\t}\n\t}\n\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\tfunction subscribe(run, invalidate = noop) {\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.push(subscriber);\n\t\tif (subscribers.length === 1) stop = start(set) || noop;\n\t\trun(value);\n\n\t\treturn () => {\n\t\t\tconst index = subscribers.indexOf(subscriber);\n\t\t\tif (index !== -1) subscribers.splice(index, 1);\n\t\t\tif (subscribers.length === 0) stop();\n\t\t};\n\t}\n\n\treturn { set, update, subscribe };\n}\n\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\tif (single) stores = [stores];\n\n\tconst auto = fn.length < 2;\n\tlet value = {};\n\n\treturn readable(initial_value, set => {\n\t\tlet inited = false;\n\t\tconst values = [];\n\n\t\tlet pending = 0;\n\n\t\tconst sync = () => {\n\t\t\tif (pending) return;\n\t\t\tconst result = fn(single ? values[0] : values, set);\n\t\t\tif (auto) set(result);\n\t\t};\n\n\t\tconst unsubscribers = stores.map((store, i) => store.subscribe(\n\t\t\tvalue => {\n\t\t\t\tvalues[i] = value;\n\t\t\t\tpending &= ~(1 << i);\n\t\t\t\tif (inited) sync();\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tpending |= (1 << i);\n\t\t\t})\n\t\t);\n\n\t\tinited = true;\n\t\tsync();\n\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t};\n\t});\n}\n\nexport { get_store_value as get };\n"],"names":["writable","value","start","noop","stop","subscribers","set","new_value","safe_not_equal","forEach","s","update","fn","subscribe","run","invalidate","subscriber","push","length","index","indexOf","splice"],"mappings":"+CAQO,SAASA,EAASC,EAAOC,EAAQC,GACvC,IAAIC,EACJ,MAAMC,EAAc,GAEpB,SAASC,EAAIC,GACZ,GAAIC,EAAeP,EAAOM,GAAY,CAErC,GADAN,EAAQM,GACHH,EAAM,OACXC,EAAYI,QAAQC,GAAKA,EAAE,MAC3BL,EAAYI,QAAQC,GAAKA,EAAE,GAAGT,KAqBhC,MAAO,CAAEK,IAAAA,EAAKK,OAjBd,SAAgBC,GACfN,EAAIM,EAAGX,KAgBcY,UAbtB,SAAmBC,EAAKC,EAAaZ,GACpC,MAAMa,EAAa,CAACF,EAAKC,GAKzB,OAJAV,EAAYY,KAAKD,GACU,IAAvBX,EAAYa,SAAcd,EAAOF,EAAMI,IAAQH,GACnDW,EAAIb,GAEG,KACN,MAAMkB,EAAQd,EAAYe,QAAQJ,IACnB,IAAXG,GAAcd,EAAYgB,OAAOF,EAAO,GACjB,IAAvBd,EAAYa,QAAcd"}